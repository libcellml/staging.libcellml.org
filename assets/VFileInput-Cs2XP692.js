import{W as Se,X as se,c as k,Y as Fe,a9 as Te,Z as Ce,aq as ce,ar as De,as as te,r as _,$ as Ee,at as Re,au as Pe,av as Ne,aw as Ae,ax as ne,ay as ie,h as L,G as Z,az as Ve,aA as Me,aB as ze,e as D,F as W,aC as $e,B as je,aD as Le,aE as xe,aF as Oe}from"./index-DHeQaB2E.js";const ft=Se("v-spacer","div","VSpacer");/**
 * filesize
 *
 * @copyright 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.1.6
 */const Ge="array",Ye="bit",le="bits",Ke="byte",ae="bytes",E="",Ue="exponent",_e="function",oe="iec",Ze="Invalid number",We="Invalid rounding method",J="jedec",Je="object",re=".",Xe="round",qe="s",He="si",Qe="kbit",et="kB",tt=" ",nt="string",it="0",X={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function lt(e,{bits:n=!1,pad:r=!1,base:u=-1,round:a=2,locale:i=E,localeOptions:d={},separator:o=E,spacer:p=tt,symbols:m={},standard:v=E,output:S=nt,fullform:N=!1,fullforms:R=[],exponent:F=-1,roundingMethod:x=Xe,precision:h=0}={}){let s=F,f=Number(e),l=[],y=0,g=E;v===He?(u=10,v=J):v===oe||v===J?u=2:u===2?v=oe:(u=10,v=J);const T=u===10?1e3:1024,O=N===!0,C=f<0,A=Math[x];if(typeof e!="bigint"&&isNaN(e))throw new TypeError(Ze);if(typeof A!==_e)throw new TypeError(We);if(C&&(f=-f),(s===-1||isNaN(s))&&(s=Math.floor(Math.log(f)/Math.log(T)),s<0&&(s=0)),s>8&&(h>0&&(h+=8-s),s=8),S===Ue)return s;if(f===0)l[0]=0,g=l[1]=X.symbol[v][n?le:ae][s];else{y=f/(u===2?Math.pow(2,s*10):Math.pow(1e3,s)),n&&(y=y*8,y>=T&&s<8&&(y=y/T,s++));const b=Math.pow(10,s>0?a:0);l[0]=A(y*b)/b,l[0]===T&&s<8&&F===-1&&(l[0]=1,s++),g=l[1]=u===10&&s===1?n?Qe:et:X.symbol[v][n?le:ae][s]}if(C&&(l[0]=-l[0]),h>0&&(l[0]=l[0].toPrecision(h)),l[1]=m[l[1]]||l[1],i===!0?l[0]=l[0].toLocaleString():i.length>0?l[0]=l[0].toLocaleString(i,d):o.length>0&&(l[0]=l[0].toString().replace(re,o)),r&&a>0){const b=l[0].toString(),V=o||(b.match(/(\D)/g)||[]).pop()||re,M=b.toString().split(V),z=M[1]||E,$=z.length,G=a-$;l[0]=`${M[0]}${V}${z.padEnd($+G,it)}`}return O&&(l[1]=R[s]?R[s]:X.fullform[v][s]+(n?Ye:Ke)+(l[0]===1?E:qe)),S===Ge?l:S===Je?{value:l[0],symbol:l[1],exponent:s,unit:g}:l.join(p)}const dt=e=>{let n=e.name;return e.pending?n+=" (??)":n+=` (${lt(e.data.length)})`,n},pt=e=>{const n=new Blob([e.data],{type:e.type}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=e.name,r._target="blank",r.click()},vt=e=>{window.open(e,"_blank")};function at(){function e(r){var a,i;return[...((a=r.dataTransfer)==null?void 0:a.items)??[]].filter(d=>d.kind==="file").map(d=>d.webkitGetAsEntry()).filter(Boolean).length>0||[...((i=r.dataTransfer)==null?void 0:i.files)??[]].length>0}async function n(r){var i,d;const u=[],a=[...((i=r.dataTransfer)==null?void 0:i.items)??[]].filter(o=>o.kind==="file").map(o=>o.webkitGetAsEntry()).filter(Boolean);if(a.length)for(const o of a){const p=await ue(o,fe(".",o));u.push(...p.map(m=>m.file))}else u.push(...((d=r.dataTransfer)==null?void 0:d.files)??[]);return u}return{handleDrop:n,hasFilesOrFolders:e}}function ue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((r,u)=>{e.isFile?e.file(i=>r([{file:i,path:n}]),u):e.isDirectory&&e.createReader().readEntries(async i=>{const d=[];for(const o of i)d.push(...await ue(o,fe(n,o)));r(d)})})}function fe(e,n){return n.isDirectory?`${e}/${n.name}`:e}const ot=se({filterByType:String},"file-accept");function rt(e){const n=k(()=>e.filterByType?st(e.filterByType):null);function r(u){if(n.value){const a=u.filter(n.value);return{accepted:a,rejected:u.filter(i=>!a.includes(i))}}return{accepted:u,rejected:[]}}return{filterAccepted:r}}function st(e){const n=e.split(",").map(i=>i.trim().toLowerCase()),r=n.filter(i=>i.startsWith(".")),u=n.filter(i=>i.endsWith("/*")),a=n.filter(i=>!r.includes(i)&&!u.includes(i));return i=>{var p,m;const d=((p=i.name.split(".").at(-1))==null?void 0:p.toLowerCase())??"",o=((m=i.type.split("/").at(0))==null?void 0:m.toLowerCase())??"";return a.includes(i.type)||r.includes(`.${d}`)||u.includes(`${o}/*`)}}const ct=se({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},truncateLength:{type:[Number,String],default:22},...ze({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>ce(e).every(n=>n!=null&&typeof n=="object")},...ot(),...Me({clearable:!0})},"VFileInput"),yt=Fe()({name:"VFileInput",inheritAttrs:!1,props:ct(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,rejected:e=>!0},setup(e,n){let{attrs:r,emit:u,slots:a}=n;const{t:i}=Te(),{filterAccepted:d}=rt(e),o=Ce(e,"modelValue",e.modelValue,t=>ce(t),t=>!e.multiple&&Array.isArray(t)?t[0]:t),{isFocused:p,focus:m,blur:v}=De(e),S=k(()=>typeof e.showSize!="boolean"?e.showSize:void 0),N=k(()=>(o.value??[]).reduce((t,c)=>{let{size:B=0}=c;return t+B},0)),R=k(()=>te(N.value,S.value)),F=k(()=>(o.value??[]).map(t=>{const{name:c="",size:B=0}=t,w=z(c);return e.showSize?`${w} (${te(B,S.value)})`:w})),x=k(()=>{var c;const t=((c=o.value)==null?void 0:c.length)??0;return e.showSize?i(e.counterSizeString,t,R.value):i(e.counterString,t)}),h=_(),s=_(),f=_(),l=Ee(()=>p.value||e.active),y=k(()=>["plain","underlined"].includes(e.variant)),g=Re(!1),{handleDrop:T,hasFilesOrFolders:O}=at();function C(){var t;f.value!==document.activeElement&&((t=f.value)==null||t.focus()),p.value||m()}function A(t){var c;(c=f.value)==null||c.click()}function b(t){u("mousedown:control",t)}function V(t){var c;(c=f.value)==null||c.click(),u("click:control",t)}function M(t){t.stopPropagation(),C(),xe(()=>{o.value=[],Oe(e["onClick:clear"],t)})}function z(t){if(t.length<Number(e.truncateLength))return t;const c=Math.floor((Number(e.truncateLength)-1)/2);return`${t.slice(0,c)}â€¦${t.slice(t.length-c)}`}function $(t){t.preventDefault(),t.stopImmediatePropagation(),g.value=!0}function G(t){t.preventDefault(),g.value=!1}async function de(t){if(t.preventDefault(),t.stopImmediatePropagation(),g.value=!1,!f.value||!O(t))return;const c=await T(t);q(c)}function pe(t){if(!(!t.target||t.repack))if(e.filterByType)q([...t.target.files]);else{const c=t.target;o.value=[...c.files??[]]}}function q(t){const c=new DataTransfer,{accepted:B,rejected:w}=d(t);w.length&&u("rejected",w);for(const K of B)c.items.add(K);f.value.files=c.files,o.value=[...c.files];const Y=new Event("change",{bubbles:!0});Y.repack=!0,f.value.dispatchEvent(Y)}return Pe(o,t=>{(!Array.isArray(t)||!t.length)&&f.value&&(f.value.value="")}),Ne(()=>{const t=!!(a.counter||e.counter),c=!!(t||a.details),[B,w]=Ae(r),{modelValue:Y,...K}=ne.filterProps(e),ve={...ie.filterProps(e),"onClick:clear":M},ye=r.webkitdirectory!==void 0&&r.webkitdirectory!==!1,me=r.accept?String(r.accept):void 0,ge=ye?void 0:e.filterByType??me;return L(ne,Z({ref:h,modelValue:e.multiple?o.value:o.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":g.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":y.value},e.class],style:e.style,"onClick:prepend":A},B,K,{centerAffix:!y.value,focused:p.value}),{...a,default:U=>{let{id:j,isDisabled:P,isDirty:H,isReadonly:Q,isValid:he,hasDetails:be}=U;return L(ie,Z({ref:s,prependIcon:e.prependIcon,onMousedown:b,onClick:V,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ve,{id:j.value,active:l.value||H.value,dirty:H.value||e.dirty,disabled:P.value,focused:p.value,details:be.value,error:he.value===!1,onDragover:$,onDrop:de}),{...a,default:Be=>{var ee;let{props:{class:we,...Ie},controlRef:ke}=Be;return D(W,null,[D("input",Z({ref:I=>f.value=ke.value=I,type:"file",accept:ge,readonly:Q.value,disabled:P.value,multiple:e.multiple,name:e.name,onClick:I=>{I.stopPropagation(),Q.value&&I.preventDefault(),C()},onChange:pe,onDragleave:G,onFocus:C,onBlur:v},Ie,w),null),D("div",{class:je(we)},[!!((ee=o.value)!=null&&ee.length)&&!e.hideInput&&(a.selection?a.selection({fileNames:F.value,totalBytes:N.value,totalBytesReadable:R.value}):e.chips?F.value.map(I=>L(Le,{key:I,size:"small",text:I},null)):F.value.join(", "))])])}})},details:c?U=>{var j,P;return D(W,null,[(j=a.details)==null?void 0:j.call(a,U),t&&D(W,null,[D("span",null,null),L($e,{active:!!((P=o.value)!=null&&P.length),value:x.value,disabled:e.disabled},a.counter)])])}:void 0})}),Ve({},h,s,f)}});export{yt as V,ft as a,pt as b,dt as d,vt as o};
